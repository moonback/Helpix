import{c as K,r as o,j as e,f as ee,u as se,a as te}from"./index-CjebVJkO.js";import{u as re}from"./taskStore-MOUmrc_1.js";import{B as i,m as O}from"./Button-DEGNrHwP.js";import{I as $}from"./Input-DqtLaMe4.js";import{C as f}from"./Card-jpH0K7U9.js";import{C as F,T as R}from"./target-BSz0SWKc.js";import{C as ae}from"./calendar-X3IWeBnO.js";import{P as le}from"./pen-square-DSvSF-xr.js";import{T as V}from"./trash-2-effVLLmh.js";import{P as W,C as L}from"./play-BkcAmz_u.js";import{T as ie}from"./trending-up-JhOAwKRR.js";import{P as G,F as z}from"./pause-DRwFAZ2T.js";import{A as U}from"./alert-triangle-gBqFAeeF.js";import{U as ne}from"./users-DCvgroNf.js";import{P as H,I as ce,V as oe,A as de}from"./video-DsCk-q0Y.js";import{M as me}from"./message-square-BXqTk9hV.js";import{E as xe}from"./eye-DM3G7hZI.js";import{X as he}from"./x-ChkrsoWQ.js";import{A as ue}from"./arrow-left-DkBG_r8s.js";import"./utils-CKFTCDAY.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=K("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),je=({task:s,onUpdateProgress:p,onUpdateStatus:h,onAddComment:v,onAddAttachment:D,onRemoveAttachment:S,onEdit:A,onDelete:P,isOwner:T=!1,canEdit:d=!1})=>{var B;const[n,w]=o.useState(""),[g,b]=o.useState(null),[j,r]=o.useState(""),[m,u]=o.useState(!1),[M,N]=o.useState(!1),[y,E]=o.useState(s.progress_percentage),[_,C]=o.useState(s.current_step||""),I={open:"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",on_hold:"bg-orange-100 text-orange-800 border-orange-200",review:"bg-purple-100 text-purple-800 border-purple-200"},a={low:"bg-emerald-100 text-emerald-800 border-emerald-200",medium:"bg-amber-100 text-amber-800 border-amber-200",high:"bg-orange-100 text-orange-800 border-orange-200",urgent:"bg-red-100 text-red-800 border-red-200"},l={simple:"bg-green-100 text-green-800 border-green-200",moderate:"bg-yellow-100 text-yellow-800 border-yellow-200",complex:"bg-red-100 text-red-800 border-red-200"},c=t=>t.startsWith("image/")?e.jsx(ce,{className:"w-4 h-4"}):t.startsWith("video/")?e.jsx(oe,{className:"w-4 h-4"}):t.startsWith("audio/")?e.jsx(ge,{className:"w-4 h-4"}):t.includes("pdf")?e.jsx(z,{className:"w-4 h-4"}):t.includes("zip")||t.includes("rar")?e.jsx(de,{className:"w-4 h-4"}):e.jsx(z,{className:"w-4 h-4"}),X=t=>{if(t===0)return"0 Bytes";const x=1024,k=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(t)/Math.log(x));return parseFloat((t/Math.pow(x,q)).toFixed(2))+" "+k[q]},J=async()=>{if(n.trim()){u(!0);try{await v({task_id:s.id,user_id:"current_user",content:n,type:"comment",is_internal:!1}),w("")}catch(t){console.error("Erreur lors de l'ajout du commentaire:",t)}finally{u(!1)}}},Q=async()=>{if(g){u(!0);try{await D(g,j),b(null),r("")}catch(t){console.error("Erreur lors de l'upload:",t)}finally{u(!1)}}},Y=async()=>{u(!0);try{await p(y,_),N(!1)}catch(t){console.error("Erreur lors de la mise à jour du progrès:",t)}finally{u(!1)}},Z=t=>{switch(t){case"open":return e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"});case"in_progress":return e.jsx(W,{className:"w-4 h-4 text-yellow-600"});case"completed":return e.jsx(L,{className:"w-4 h-4 text-green-600"});case"cancelled":return e.jsx(he,{className:"w-4 h-4 text-red-600"});case"on_hold":return e.jsx(G,{className:"w-4 h-4 text-orange-600"});case"review":return e.jsx(xe,{className:"w-4 h-4 text-purple-600"});default:return e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${I[s.status]}`,children:[Z(s.status)," ",s.status]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${a[s.priority]}`,children:s.priority}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${l[s.complexity]}`,children:s.complexity})]}),e.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-4",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("span",{children:["Durée estimée: ",s.estimated_duration,"h"]})]}),s.actual_duration&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("span",{children:["Durée réelle: ",s.actual_duration,"h"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsxs("span",{children:["Progression: ",s.progress_percentage,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsxs("span",{children:["Créée le ",new Date(s.created_at).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d&&e.jsxs(i,{variant:"outline",size:"sm",onClick:A,className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Modifier"})]}),T&&e.jsxs(i,{variant:"outline",size:"sm",onClick:P,className:"flex items-center space-x-2 text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Supprimer"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progression globale"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progress_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${s.progress_percentage}%`}})}),s.current_step&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Étape actuelle: ",e.jsx("span",{className:"font-medium",children:s.current_step})]}),s.total_steps&&e.jsxs("p",{className:"text-sm text-gray-600",children:[s.completed_steps," / ",s.total_steps," étapes terminées"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[s.status==="open"&&d&&e.jsxs(i,{onClick:()=>h("in_progress","Démarrage de la tâche"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Démarrer"]}),s.status==="in_progress"&&d&&e.jsxs(i,{onClick:()=>N(!0),className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Mettre à jour le progrès"]}),s.status==="in_progress"&&d&&e.jsxs(i,{onClick:()=>h("completed","Tâche terminée avec succès"),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Marquer comme terminée"]}),s.status==="in_progress"&&d&&e.jsxs(i,{variant:"outline",onClick:()=>h("on_hold","Mise en pause temporaire"),className:"border-orange-200 text-orange-600 hover:bg-orange-50",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Mettre en pause"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(f,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Détails de la tâche"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Localisation"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.location})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Budget"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.budget_credits," crédits"]})]}),s.deadline&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Échéance"}),e.jsxs("span",{className:`text-sm font-medium ${new Date(s.deadline)<new Date?"text-red-600":"text-gray-900"}`,children:[new Date(s.deadline).toLocaleDateString(),new Date(s.deadline)<new Date&&e.jsx(U,{className:"w-4 h-4 inline ml-2"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dernière activité"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.last_activity?new Date(s.last_activity).toLocaleDateString():"Aucune"})]}),s.assigned_to&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Assignée à"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center space-x-2",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsxs("span",{children:["Utilisateur ",s.assigned_to]})]})]})]})]}),e.jsxs(f,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Compétences et tags"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Compétences requises"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.required_skills.map((t,x)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full border border-blue-200",children:t},x))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((t,x)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:["#",t]},x))})]})]})]})]}),s.attachments&&s.attachments.length>0&&e.jsxs(f,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(H,{className:"w-5 h-5 text-purple-600"}),e.jsxs("span",{children:["Pièces jointes (",s.attachments.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.attachments.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c(t.file_type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.file_name}),e.jsx("p",{className:"text-xs text-gray-500",children:X(t.file_size)})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.uploaded_at).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>window.open(t.file_url,"_blank"),className:"p-1 text-blue-600 hover:text-blue-700",children:e.jsx(pe,{className:"w-4 h-4"})}),d&&e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>S(t.id),className:"p-1 text-red-600 hover:text-red-700",children:e.jsx(V,{className:"w-4 h-4"})})]})]})]},t.id))})]}),d&&e.jsxs(f,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(H,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Ajouter une pièce jointe"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier"}),e.jsx("input",{type:"file",onChange:t=>{var x;return b(((x=t.target.files)==null?void 0:x[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),e.jsx($,{value:j,onChange:t=>r(t.target.value),placeholder:"Description du fichier...",className:"w-full"})]}),e.jsx(i,{onClick:Q,disabled:!g||m,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white",children:m?"Upload en cours...":"Ajouter la pièce jointe"})]})]}),e.jsxs(f,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(me,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{children:["Commentaires et mises à jour (",((B=s.comments)==null?void 0:B.length)||0,")"]})]}),e.jsx("div",{className:"space-y-4 mb-6",children:s.comments&&s.comments.length>0?s.comments.map(t=>e.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Utilisateur ",t.user_id]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.type==="progress_update"?"bg-blue-100 text-blue-800":t.type==="issue_report"?"bg-red-100 text-red-800":t.type==="solution"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.type})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-700",children:t.content})]},t.id)):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucun commentaire pour le moment"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ajouter un commentaire"}),e.jsx("textarea",{value:n,onChange:t=>w(t.target.value),placeholder:"Tapez votre commentaire...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx(i,{onClick:J,disabled:!n.trim()||m,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:m?"Envoi...":"Ajouter le commentaire"})]})]}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mettre à jour le progrès"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Progression (%)"}),e.jsx("input",{type:"range",min:"0",max:"100",value:y,onChange:t=>E(parseInt(t.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{className:"font-medium",children:[y,"%"]}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Étape actuelle (optionnel)"}),e.jsx($,{value:_,onChange:t=>C(t.target.value),placeholder:"Ex: Révision en cours...",className:"w-full"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx(i,{variant:"outline",onClick:()=>N(!1),disabled:m,children:"Annuler"}),e.jsx(i,{onClick:Y,disabled:m,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:m?"Mise à jour...":"Mettre à jour"})]})]})})]})},Be=()=>{const{taskId:s}=ee(),p=se(),{tasks:h,fetchTasks:v,updateTaskProgress:D,updateTaskStatus:S,addTaskComment:A,addTaskAttachment:P,removeTaskAttachment:T,deleteTask:d}=re(),{user:n}=te(),[w,g]=o.useState(!0),[b,j]=o.useState(null),r=h.find(a=>a.id===parseInt(s||"0"));o.useEffect(()=>{(async()=>{try{g(!0),j(null),h.length===0&&await v(),!r&&h.length>0&&j("Tâche non trouvée")}catch(l){j("Erreur lors du chargement de la tâche"),console.error("Erreur:",l)}finally{g(!1)}})()},[s,h.length,v,r]);const m=async(a,l)=>{if(r)try{await D(r.id,a,l)}catch(c){throw console.error("Erreur lors de la mise à jour du progrès:",c),c}},u=async(a,l)=>{if(r)try{await S(r.id,a,l)}catch(c){throw console.error("Erreur lors de la mise à jour du statut:",c),c}},M=async a=>{if(r)try{await A(r.id,a)}catch(l){throw console.error("Erreur lors de l'ajout du commentaire:",l),l}},N=async(a,l)=>{if(r)try{await P(r.id,a,l)}catch(c){throw console.error("Erreur lors de l'ajout de la pièce jointe:",c),c}},y=async a=>{if(r)try{await T(r.id,a)}catch(l){throw console.error("Erreur lors de la suppression de la pièce jointe:",l),l}},E=()=>{p(`/edit-task/${s}`)},_=async()=>{if(!(!r||!window.confirm("Êtes-vous sûr de vouloir supprimer cette tâche ?")))try{await d(r.id),p("/dashboard")}catch(a){console.error("Erreur lors de la suppression:",a)}},C=(n==null?void 0:n.id)===(r==null?void 0:r.user_id),I=C||(n==null?void 0:n.id)===(r==null?void 0:r.assigned_to);return w?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"w-10 h-10 text-white"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full animate-ping opacity-20"})]}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-2",children:"Chargement de la tâche..."}),e.jsx("p",{className:"text-slate-500",children:"Récupération des détails"})]})]})}):b||!r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-10 h-10 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-2",children:"Erreur"}),e.jsx("p",{className:"text-slate-500 mb-6",children:b||"Tâche non trouvée"}),e.jsx(i,{onClick:()=>p("/dashboard"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"Retour au tableau de bord"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 pb-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>p(-1),className:"p-2",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Détail de la tâche"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",r.id," • Créée le ",new Date(r.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.status==="completed"&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 text-green-800 rounded-full",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Terminée"})]}),r.is_overdue&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-red-100 text-red-800 rounded-full",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"En retard"})]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsx(je,{task:r,onUpdateProgress:m,onUpdateStatus:u,onAddComment:M,onAddAttachment:N,onRemoveAttachment:y,onEdit:E,onDelete:_,isOwner:C,canEdit:I})})})})]})};export{Be as default};
