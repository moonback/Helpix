import{c as p,b as me,a as Se,r,j as e,d as Te,M as pe}from"./index-CZ_6CMrD.js";import{B as o}from"./Button-DyrnzhHO.js";import{C as De}from"./Card-KCRodOJQ.js";import{I as re}from"./Input-DXbtoITe.js";import{R as fe,I as Fe}from"./refresh-cw-w1C8PxoL.js";import{F as Pe}from"./filter-C56A4t_c.js";import{S as he}from"./search-BLUcUpX8.js";import{S as ge}from"./square-DDq-aod5.js";import{T as xe}from"./trash-2-CjdEYaBA.js";import{S as be}from"./star-Dz8Bfq-Z.js";import{A as ve,V as Be,I as ye,P as $e}from"./video-CxU9I9BA.js";import{E as Ue}from"./eye-D3RU4U9L.js";import{M as Xe}from"./message-square-Cvew1veF.js";import{A as Ye}from"./alert-triangle-CPbos0f7.js";import{U as Ve}from"./users-edIHNlil.js";import{X as je}from"./x-CnWmSxWo.js";import"./motion-6-dhybfo.js";import"./utils-DGemFq7o.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=p("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=p("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=p("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=p("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=p("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=p("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=p("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=p("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=p("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=p("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=p("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=p("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=p("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=p("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=p("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=p("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=p("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=p("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),at=({onConversationSelect:b,isMultiSelectMode:v=!1,selectedConversations:d=new Set,onSelectConversation:M,onToggleMultiSelect:T,onSelectAll:Y,onDeleteSelected:y,isDeletingMultiple:S=!1})=>{const{conversations:z,isLoading:i,error:w,fetchConversations:g,deleteConversation:N,markConversationAsRead:D,toggleConversationFavorite:L,archiveConversation:F}=me(),{user:j}=Se(),[x,I]=r.useState(""),[R,A]=r.useState(null),[E,P]=r.useState(!1),[l,h]=r.useState(null),[k,V]=r.useState("recent"),[C,q]=r.useState("all"),[O,X]=r.useState(!1),[H,K]=r.useState(navigator.onLine),[le,W]=r.useState(new Date);r.useEffect(()=>{const s=()=>{K(!0),g()},a=()=>K(!1);return window.addEventListener("online",s),window.addEventListener("offline",a),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}},[g]),r.useEffect(()=>{g();const s=setInterval(()=>{!document.hidden&&H&&(g(),W(new Date))},6e4),a=()=>{!document.hidden&&H&&(g(),W(new Date))};return document.addEventListener("visibilitychange",a),()=>{clearInterval(s),document.removeEventListener("visibilitychange",a)}},[g,H]),r.useEffect(()=>{const s=a=>{const c=a.target;!c.closest(".conv-modal-content")&&!c.closest(".context-menu-trigger")&&h(null)};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},[]),r.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[l]);const B=r.useMemo(()=>z.filter(a=>{var c,u;if(x){const U=x.toLowerCase(),ne=(c=a.participants)==null?void 0:c.some(oe=>oe.toLowerCase().includes(U)),ie=(u=a.lastMessage)==null?void 0:u.content.toLowerCase().includes(U);if(!ne&&!ie)return!1}switch(C){case"unread":return a.unreadCount>0;case"favorites":return a.isFavorite;case"archived":return a.isArchived;case"all":default:return!a.isArchived}}).sort((a,c)=>{switch(k){case"alphabetical":const u=`Conversation ${a.id}`,U=`Conversation ${c.id}`;return u.localeCompare(U);case"unread":return c.unreadCount-a.unreadCount;case"recent":default:return new Date(c.updatedAt).getTime()-new Date(a.updatedAt).getTime()}}),[z,x,k,C]),Z=r.useCallback(async s=>{P(!0);try{await N(s),A(null),h(null)}catch(a){console.error("Erreur lors de la suppression de la conversation:",a)}finally{P(!1)}},[N]),$=r.useCallback(async(s,a)=>{try{switch(s){case"markAsRead":await D(a);break;case"favorite":await L(a);break;case"archive":await F(a);break;case"delete":A(a);break}h(null)}catch(c){console.error("Erreur lors de l'action:",c)}},[D,L,F]),_=r.useCallback(()=>{g(),W(new Date)},[g]),G=s=>{var c,u;if(s.name)return s.name;const a=((c=s.participants)==null?void 0:c.filter(U=>U!==(j==null?void 0:j.id)))||[];return a.length===1?`${a[0].slice(0,8)}...`:`Groupe (${((u=s.participants)==null?void 0:u.length)||0})`},J=s=>{var u;const a=G(s);return((u=s.participants)==null?void 0:u.length)>2?e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:e.jsx(Ve,{className:"h-6 w-6 text-white"})}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:a.charAt(0).toUpperCase()})})},ee=s=>{const a=new Date,c=new Date(s),u=(a.getTime()-c.getTime())/(1e3*60*60);return u<1?"À l'instant":u<24?`Il y a ${Math.floor(u)}h`:u<168?c.toLocaleDateString("fr-FR",{weekday:"short"}):c.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})},te=`
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
    .animate-slideInRight { animation: slideInRight 0.2s ease-out; }
    .animate-pulse-slow { animation: pulse 2s ease-in-out infinite; }
    .animate-shimmer { animation: shimmer 1.5s ease-in-out infinite; }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }
    
    .dark .glass-effect {
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .conversation-item {
      position: relative;
      transition: all 0.2s ease;
      overflow: hidden;
    }
    
    .conversation-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .conversation-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    
    .conversation-item:hover::before {
      left: 100%;
    }
    
    .context-menu {
      animation: fadeIn 0.15s ease-out;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .status-dot {
      animation: pulse 2s ease-in-out infinite;
    }
  `,se=()=>{var a;if(!R)return null;const s=z.find(c=>c.id===R);return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl max-w-md w-full p-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center",children:e.jsx(Ye,{className:"w-7 h-7 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Supprimer la conversation"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Cette action est définitive"})]})]}),s&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[J(s),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:G(s)}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((a=s.participants)==null?void 0:a.length)||0," participant(s)"]})]})]}),s.lastMessage&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 italic",children:['"',s.lastMessage.content.substring(0,60),'..."']})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(o,{onClick:()=>A(null),variant:"outline",className:"flex-1 border-gray-300 dark:border-gray-600",disabled:E,children:"Annuler"}),e.jsx(o,{onClick:()=>Z(R),className:"flex-1 bg-red-600 hover:bg-red-700 text-white",disabled:E,children:E?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Suppression..."})]}):"Supprimer"})]})]})})};return i&&z.length===0?e.jsx("div",{className:"h-full flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des conversations..."})]})}):w&&z.length===0?e.jsx("div",{className:"p-6",children:e.jsx(De,{className:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ce,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"font-bold text-red-800 dark:text-red-300 text-lg mb-2",children:"Erreur de connexion"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mb-4",children:w}),e.jsxs(o,{onClick:_,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("style",{children:te}),e.jsx(se,{}),e.jsxs("div",{className:"h-full w-full flex flex-col bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-hidden",children:[e.jsxs("div",{className:"glass-effect border-b border-white/20 dark:border-slate-700/50 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Messages"}),e.jsx("div",{className:"flex items-center space-x-2",children:H?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full status-dot"}),e.jsx(st,{className:"w-4 h-4 text-green-500"})]}):e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx(Ce,{className:"w-4 h-4 text-red-500"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{onClick:_,variant:"ghost",size:"sm",className:"p-2 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl",disabled:i,title:"Actualiser",children:e.jsx(fe,{className:`w-5 h-5 ${i?"animate-spin":""}`})}),e.jsx(o,{onClick:()=>X(!O),variant:"ghost",size:"sm",className:"p-2 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl",title:"Filtres et tri",children:e.jsx(Pe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(re,{type:"text",placeholder:"Rechercher des conversations...",value:x,onChange:s=>I(s.target.value),className:"pl-12 bg-white/50 dark:bg-slate-800/50 border-white/30 dark:border-slate-600/30 rounded-xl backdrop-blur-sm focus:ring-2 focus:ring-blue-500"})]}),O&&e.jsx("div",{className:"mt-4 p-4 bg-white/30 dark:bg-slate-800/30 rounded-xl backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filtrer :"}),e.jsxs("select",{value:C,onChange:s=>q(s.target.value),className:"text-sm bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg px-2 py-1",children:[e.jsx("option",{value:"all",children:"Toutes"}),e.jsx("option",{value:"unread",children:"Non lues"}),e.jsx("option",{value:"favorites",children:"Favorites"}),e.jsx("option",{value:"archived",children:"Archivées"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Trier par :"}),e.jsxs("select",{value:k,onChange:s=>V(s.target.value),className:"text-sm bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg px-2 py-1",children:[e.jsx("option",{value:"recent",children:"Plus récent"}),e.jsx("option",{value:"alphabetical",children:"Alphabétique"}),e.jsx("option",{value:"unread",children:"Non lues"})]})]})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[B.length," conversation(s)"]}),e.jsxs("span",{children:["Mise à jour : ",le.toLocaleTimeString("fr-FR",{timeStyle:"short"})]})]})]}),v&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 animate-slideInRight",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-200 transition-colors font-medium",children:[d.size===B.length?e.jsx(ke,{className:"w-5 h-5"}):e.jsx(ge,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:d.size===B.length?"Tout désélectionner":"Tout sélectionner"})]}),e.jsx("div",{className:"h-4 w-px bg-blue-300"}),e.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:[d.size," sélectionnée(s)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{onClick:y,disabled:d.size===0||S,size:"sm",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-xl",children:S?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Suppression..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsxs("span",{children:["Supprimer (",d.size,")"]})]})}),e.jsx(o,{onClick:T,variant:"outline",size:"sm",className:"border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-800 px-3 py-2 rounded-xl",children:"Annuler"})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden h-full",children:B.length>0?e.jsx("div",{className:"p-4 space-y-2",children:B.slice(0,8).map(s=>e.jsx("div",{className:`conversation-item group p-4 rounded-2xl cursor-pointer transition-all ${v?"cursor-default":"hover:bg-white/50 dark:hover:bg-slate-800/50"} ${d.has(s.id)?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-700":"bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30"}`,style:l===s.id?{transform:"none"}:void 0,onClick:()=>{v?M==null||M(s.id):b(s)},children:e.jsxs("div",{className:"flex items-center space-x-4",children:[v&&e.jsx("button",{onClick:a=>{a.stopPropagation(),M==null||M(s.id)},className:"flex-shrink-0 p-1",children:d.has(s.id)?e.jsx(ke,{className:"w-5 h-5 text-blue-600"}):e.jsx(ge,{className:"w-5 h-5 text-gray-400 hover:text-blue-600 transition-colors"})}),e.jsxs("div",{className:"relative flex-shrink-0",children:[J(s),s.isFavorite&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-3 h-3 text-white"})}),s.unreadCount>0&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-white",children:s.unreadCount>9?"9+":s.unreadCount})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:G(s)}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.isArchived&&e.jsx(ve,{className:"w-4 h-4 text-gray-400"}),s.isPinned&&e.jsx(Qe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ee(s.updatedAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate pr-2",children:s.lastMessage?e.jsxs("span",{className:"flex items-center space-x-1",children:[s.lastMessage.sender_id===(j==null?void 0:j.id)&&e.jsx("span",{className:"text-blue-500",children:"Vous:"}),e.jsx("span",{children:s.lastMessage.content})]}):e.jsx("span",{className:"italic text-gray-400",children:"Aucun message"})}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[s.isMuted&&e.jsx(Ne,{className:"w-4 h-4 text-gray-400"}),!v&&e.jsxs("div",{className:"context-menu-trigger relative",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),h(l===s.id?null:s.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(ze,{className:"w-4 h-4"})}),l===s.id&&e.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center p-0 sm:p-4",children:e.jsxs("div",{className:"conv-modal-content w-full sm:max-w-xs bg-white dark:bg-slate-800 rounded-t-2xl sm:rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"py-2",children:[s.unreadCount>0&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),$("markAsRead",s.id)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center space-x-2 transition-colors",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Marquer comme lu"})]}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),$("favorite",s.id)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center space-x-2 transition-colors",children:[e.jsx(be,{className:`w-4 h-4 ${s.isFavorite?"text-yellow-500 fill-current":""}`}),e.jsx("span",{children:s.isFavorite?"Retirer des favoris":"Ajouter aux favoris"})]}),e.jsx("button",{onClick:a=>{a.stopPropagation(),$("mute",s.id)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center space-x-2 transition-colors",children:s.isMuted?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Réactiver les notifications"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Désactiver les notifications"})]})}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),$("archive",s.id)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center space-x-2 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:s.isArchived?"Désarchiver":"Archiver"})]}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),$("delete",s.id)},className:"w-full px-4 py-3 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2 transition-colors",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Supprimer"})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600",children:e.jsx("button",{onClick:a=>{a.stopPropagation(),h(null)},className:"w-full px-4 py-3 text-center text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Annuler"})})]})})]})]})]})]})]})},s.id))}):e.jsx("div",{className:"h-full flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center animate-pulse-slow",children:e.jsx(Xe,{className:"w-12 h-12 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-2xl font-bold gradient-text",children:x?"Aucun résultat":"Pas encore de conversations"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:x?`Aucune conversation ne correspond à "${x}"`:"Les nouvelles conversations se créent depuis les tâches"})]}),x&&e.jsx(o,{onClick:()=>I(""),variant:"outline",className:"px-6 py-2 rounded-xl",children:"Effacer la recherche"})]})})}),i&&z.length>0&&e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Actualisation..."})]})})]})]})},rt=`
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fadeInUp {
    animation: fadeInUp 0.4s ease-out forwards;
  }

  @keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
  }
  
  .animate-slideInLeft {
    animation: slideInLeft 0.3s ease-out forwards;
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
  }
  
  .animate-slideInRight {
    animation: slideInRight 0.3s ease-out forwards;
  }

  @keyframes typing {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
  }

  .typing-dot {
    animation: typing 1.4s infinite ease-in-out;
  }

  .typing-dot:nth-child(1) { animation-delay: -0.32s; }
  .typing-dot:nth-child(2) { animation-delay: -0.16s; }

  @keyframes messageShine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .message-bubble {
    position: relative;
    overflow: visible;
    transition: all 0.3s ease;
    z-index: 40;
  }

  .message-bubble:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }

  .message-bubble::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255,255,255,0.2),
      transparent
    );
    transition: left 0.5s;
  }

  .message-bubble:hover::before {
    left: 100%;
  }

  .glass-effect {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .dark .glass-effect {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  @keyframes bounce {
    0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
    40%, 43% { transform: translate3d(0, -30px, 0); }
    70% { transform: translate3d(0, -15px, 0); }
    90% { transform: translate3d(0, -4px, 0); }
  }

  .bounce-animation {
    animation: bounce 1s ease infinite;
  }

  .gradient-text {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .message-actions {
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.2s ease;
  }

  .message-bubble:hover .message-actions {
    opacity: 1;
    transform: translateY(0);
  }

  .scroll-indicator {
    position: absolute;
    right: 20px;
    bottom: 20px;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .scroll-indicator.visible {
    opacity: 1;
  }

  .input-container {
    position: relative;
    transition: all 0.3s ease;
  }

  .input-container:focus-within {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }

  .attachment-preview {
    animation: slideInUp 0.3s ease-out;
  }

  @keyframes slideInUp {
    from { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  .emoji-picker {
    position: absolute;
    bottom: 100%;
    right: 0;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    z-index: 50;
    animation: slideInUp 0.2s ease-out;
  }

  .dark .emoji-picker {
    background: #1e293b;
    border-color: #334155;
  }
`,lt=({onClose:b,children:v})=>Te.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center p-0 sm:p-4",onClick:b,children:e.jsx("div",{className:"message-modal-content w-full sm:max-w-xs bg-white dark:bg-slate-800 rounded-t-2xl sm:rounded-2xl shadow-2xl overflow-hidden",onClick:d=>d.stopPropagation(),children:v})}),document.body),Me=({conversation:b,onBack:v})=>{const{messages:d,isLoading:M,error:T,sendMessage:Y,markAsRead:y,deleteMessage:S,editMessage:z}=me(),{user:i}=Se(),[w,g]=r.useState(""),[N,D]=r.useState([]),[L,F]=r.useState(!1),[j,x]=r.useState(null),[I,R]=r.useState(null),[A,E]=r.useState(""),[P,l]=r.useState(null),[h,k]=r.useState(!1),[V,C]=r.useState(!1),[q,O]=r.useState(!1),[X,H]=r.useState(""),[K,le]=r.useState(!1),W=r.useRef(null),B=r.useRef(null),Z=r.useRef(null),$=r.useRef(null),_=r.useRef(),G=["😀","😂","😍","🥰","😘","😊","👍","❤️","🔥","💯","🎉","👏"];r.useEffect(()=>{ee()},[d]),r.useEffect(()=>{const t=B.current;if(!t)return;const n=()=>{const{scrollTop:m,scrollHeight:f,clientHeight:Q}=t,ce=f-m-Q<100;k(!ce&&d.length>0)};return t.addEventListener("scroll",n),()=>t.removeEventListener("scroll",n)},[d.length]),r.useEffect(()=>{const t=n=>{const m=n.target;!m.closest(".message-modal-content")&&!m.closest(".menu-trigger")&&x(null),!m.closest(".emoji-picker")&&!m.closest(".emoji-trigger")&&C(!1)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[]),r.useEffect(()=>(j?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[j]),r.useEffect(()=>{b&&d.length>0&&d.forEach(t=>{t.receiver_id===(i==null?void 0:i.id)&&!t.isRead&&y(t.id)})},[b,d,i==null?void 0:i.id,y]);const J=r.useCallback(t=>{g(t),!L&&t.trim()&&F(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{F(!1)},1e3)},[L]),ee=()=>{var t;(t=W.current)==null||t.scrollIntoView({behavior:"smooth"})},te=async()=>{if(!b||!w.trim()&&N.length===0||!i)return;const t=b.participants.find(n=>n!==i.id);if(!t){console.error("Impossible de trouver l'autre participant");return}try{await Y(w,t,"text",N),g(""),D([]),l(null),F(!1)}catch(n){console.error("Erreur lors de l'envoi du message:",n)}},se=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),I?u():te()),t.key==="Escape"&&(R(null),l(null))},s=t=>{const m=Array.from(t.target.files||[]).filter(f=>f.size>10485760?(alert(`Le fichier ${f.name} est trop volumineux (max 10MB)`),!1):!0);D(f=>[...f,...m])},a=t=>{D(n=>n.filter((m,f)=>f!==t))},c=t=>{R(t.id),E(t.content),x(null)},u=async()=>{if(!(!I||!A.trim()))try{await z(I,A),R(null),E("")}catch(t){console.error("Erreur lors de la modification du message:",t)}},U=t=>{navigator.clipboard.writeText(t),x(null)},ne=t=>{l(t),x(null)},ie=async t=>{try{await S(t),x(null)}catch(n){console.error("Erreur lors de la suppression du message:",n)}},oe=t=>{x(j===t?null:t)},Le=t=>{g(n=>n+t),C(!1)},Re=t=>t.type.startsWith("image/")?e.jsx(ye,{className:"h-4 w-4"}):e.jsx(we,{className:"h-4 w-4"}),Ie=t=>{if(t===0)return"0 Bytes";const n=1024,m=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,f)).toFixed(2))+" "+m[f]},Ae=t=>{const n=new Date(t),f=(new Date().getTime()-n.getTime())/(1e3*60*60);return f<24?n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):f<168?n.toLocaleDateString("fr-FR",{weekday:"short",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"2-digit"})},Ee=t=>t.sender_id!==(i==null?void 0:i.id)?null:t.isRead?e.jsx(Oe,{className:"h-4 w-4 text-blue-400"}):e.jsx(He,{className:"h-4 w-4 text-gray-400"}),de=X?d.filter(t=>t.content.toLowerCase().includes(X.toLowerCase())):d;if(!b)return e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold gradient-text mb-2",children:"Commencez une conversation"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sélectionnez une conversation pour commencer à discuter"})]})]})});const ue=b.participants.find(t=>t!==(i==null?void 0:i.id)),ae=ue?`Utilisateur ${ue.slice(0,8)}...`:"Utilisateur";return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:rt}),e.jsxs("div",{className:"relative h-full w-full flex flex-col bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-visible",children:[e.jsxs("div",{className:"glass-effect border-b border-white/20 dark:border-slate-700/50",children:[e.jsxs("div",{className:"h-16 flex items-center px-6",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:v,className:"p-2 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl transition-all mr-3 hover:scale-105",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:ae.charAt(0).toUpperCase()})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white dark:border-slate-800"})]}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:ae}),e.jsx("div",{className:"flex items-center space-x-2",children:L?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full typing-dot"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full typing-dot"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full typing-dot"})]}),e.jsx("span",{className:"text-sm text-blue-500 ml-2",children:"en train d'écrire..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"En ligne"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>le(!K),className:"p-3 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl transition-all hover:scale-105",title:"Rechercher",children:e.jsx(he,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsx(o,{variant:"ghost",size:"sm",className:"p-3 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl transition-all hover:scale-105",title:"Appel vocal",children:e.jsx(Ge,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsx(o,{variant:"ghost",size:"sm",className:"p-3 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl transition-all hover:scale-105",title:"Appel vidéo",children:e.jsx(Be,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsx(o,{variant:"ghost",size:"sm",className:"p-3 hover:bg-white/20 dark:hover:bg-slate-700/50 rounded-xl transition-all hover:scale-105",title:"Informations",children:e.jsx(Fe,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),K&&e.jsx("div",{className:"px-6 pb-4 animate-slideInUp",children:e.jsx(re,{value:X,onChange:t=>H(t.target.value),placeholder:"Rechercher dans la conversation...",className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-white/30 dark:border-slate-600/30"})})]}),P&&e.jsx("div",{className:"px-6 py-3 bg-blue-50 dark:bg-slate-800/50 border-b border-blue-100 dark:border-slate-700 animate-slideInUp",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-1 h-8 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["Réponse à ",P.sender_id===(i==null?void 0:i.id)?"vous":ae]}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 truncate max-w-xs",children:P.content})]})]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"text-blue-500 hover:bg-blue-100 dark:hover:bg-slate-700",children:e.jsx(je,{className:"h-4 w-4"})})]})}),e.jsxs("div",{ref:B,className:"relative flex-1 overflow-visible p-4 md:p-6 space-y-5 md:space-y-6 bg-gradient-to-b from-transparent to-gray-50/30 dark:to-slate-800/30 h-full",children:[M?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):T?e.jsx("div",{className:"text-center text-red-500 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl",children:e.jsxs("p",{children:["Erreur: ",T]})}):de.length===0?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto px-6",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center bounce-animation",children:e.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-3",children:X?"Aucun résultat":"Nouvelle conversation"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:X?"Aucun message ne correspond à votre recherche.":"Envoyez votre premier message pour commencer cette conversation !"})]})]})}):de.slice(-8).map((t,n)=>{var Q;const m=t.sender_id===(i==null?void 0:i.id),f=n===0||((Q=de[n-1])==null?void 0:Q.sender_id)!==t.sender_id;return e.jsxs("div",{className:`flex ${m?"justify-end":"justify-start"} animate-fadeInUp`,style:{animationDelay:`${n*.05}s`},children:[!m&&f&&e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-purple-400 to-blue-500 flex items-center justify-center mr-3 mt-auto mb-2",children:e.jsx("span",{className:"text-white font-medium text-xs",children:ae.charAt(0).toUpperCase()})}),e.jsx("div",{className:`max-w-xs lg:max-w-md ${!m&&!f?"ml-11":""}`,children:I===t.id?e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-2xl p-4",children:[e.jsx(re,{value:A,onChange:ce=>E(ce.target.value),onKeyPress:se,multiline:!0,className:"mb-3"}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>R(null),children:"Annuler"}),e.jsx(o,{size:"sm",onClick:u,className:"bg-blue-500 text-white",children:"Sauvegarder"})]})]}):e.jsxs("div",{className:`message-bubble group px-4 py-3 rounded-2xl shadow-lg ${m?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-white dark:bg-slate-700 text-gray-900 dark:text-white border border-gray-100 dark:border-slate-600"}`,children:[e.jsxs("div",{className:"mb-2",children:[t.type==="image"&&e.jsx("div",{className:"mb-2 relative group",children:e.jsx("img",{src:t.content,alt:"Image",className:"rounded-xl max-w-full h-auto shadow-md hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>{}})}),t.type==="file"&&e.jsx("div",{className:"mb-2 p-3 bg-gray-100 dark:bg-gray-600 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(we,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:"Fichier joint"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Document"})]})]})}),t.type==="text"&&e.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:t.content})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:`flex items-center space-x-2 text-xs ${m?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:[e.jsx("span",{children:Ae(t.timestamp)}),t.edited&&e.jsx("span",{className:"italic opacity-75",children:"(modifié)"}),Ee(t)]}),e.jsxs("div",{className:"message-actions flex items-center space-x-1",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>ne(t),className:`p-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity ${m?"hover:bg-blue-400/30 text-blue-100":"hover:bg-gray-100 dark:hover:bg-slate-600 text-gray-500"}`,title:"Répondre",children:e.jsx(Ze,{className:"h-3 w-3"})}),m&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>c(t),className:"p-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-blue-400/30 text-blue-100",title:"Modifier",children:e.jsx(Ke,{className:"h-3 w-3"})}),e.jsxs("div",{className:"relative menu-trigger",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>oe(t.id),className:"p-1 rounded-lg md:opacity-0 opacity-100 group-hover:opacity-100 focus:opacity-100 active:opacity-100 transition-opacity hover:bg-blue-400/30 text-blue-100",title:"Plus d'options",children:e.jsx(ze,{className:"h-3 w-3"})}),j===t.id&&e.jsxs(lt,{onClose:()=>x(null),children:[e.jsxs("div",{className:"py-2 animate-fadeInUp",children:[e.jsxs("button",{onClick:()=>U(t.content),className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center space-x-2 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"Copier"})]}),e.jsxs("button",{onClick:()=>ie(t.id),className:"w-full px-4 py-3 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2 transition-colors",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Supprimer"})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600",children:e.jsx("button",{onClick:()=>x(null),className:"w-full px-4 py-3 text-center text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Annuler"})})]})]})]})]})]})]})})]},t.id)}),e.jsx("div",{ref:W})]}),h&&e.jsx("div",{className:"scroll-indicator visible",children:e.jsx(o,{onClick:ee,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Aller au bas de la conversation",children:e.jsx(qe,{className:"h-5 w-5"})})}),N.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-slate-700 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-slate-800 dark:to-slate-700",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:N.map((t,n)=>e.jsxs("div",{className:"attachment-preview flex items-center space-x-3 bg-white dark:bg-slate-800 rounded-xl px-4 py-3 border border-gray-200 dark:border-slate-600 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-8 w-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:Re(t)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Ie(t.size)})]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>a(n),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-all",children:e.jsx(je,{className:"h-4 w-4"})})]},n))})}),e.jsx("div",{className:"p-4 md:p-5 border-t border-gray-200 dark:border-slate-700 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm mb-3 md:mb-4",children:e.jsx("div",{className:"input-container glass-effect rounded-xl p-3 md:p-4",children:e.jsxs("div",{className:"flex items-end space-x-2 md:space-x-3",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(o,{onClick:()=>{var t;return(t=$.current)==null?void 0:t.click()},variant:"ghost",size:"sm",className:"p-2 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-xl transition-all hover:scale-110",title:"Ajouter une image",children:e.jsx(ye,{className:"h-5 w-5 text-blue-500"})}),e.jsx(o,{onClick:()=>{var t;return(t=Z.current)==null?void 0:t.click()},variant:"ghost",size:"sm",className:"p-2 hover:bg-purple-50 dark:hover:bg-slate-700 rounded-xl transition-all hover:scale-110",title:"Joindre un fichier",children:e.jsx($e,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{className:"relative emoji-trigger",children:[e.jsx(o,{onClick:()=>C(!V),variant:"ghost",size:"sm",className:"p-2 hover:bg-yellow-50 dark:hover:bg-slate-700 rounded-xl transition-all hover:scale-110",title:"Ajouter un emoji",children:e.jsx(et,{className:"h-5 w-5 text-yellow-500"})}),V&&e.jsxs("div",{className:"emoji-picker",children:[e.jsx("p",{className:"text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Emojis populaires"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:G.map((t,n)=>e.jsx("button",{onClick:()=>Le(t),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors text-xl hover:scale-125 transform",children:t},n))})]})]}),e.jsx(o,{onMouseDown:()=>O(!0),onMouseUp:()=>O(!1),onMouseLeave:()=>O(!1),variant:"ghost",size:"sm",className:`p-2 rounded-xl transition-all hover:scale-110 ${q?"bg-red-100 dark:bg-red-900/30 text-red-600":"hover:bg-red-50 dark:hover:bg-slate-700 text-red-500"}`,title:"Maintenir pour enregistrer un message vocal",children:e.jsx(_e,{className:`h-5 w-5 ${q?"animate-pulse":""}`})})]}),e.jsx("div",{className:"flex-1",children:e.jsx(re,{value:w,onChange:t=>J(t.target.value),onKeyPress:se,placeholder:"Tapez votre message...",multiline:!0,rows:1,className:"min-h-[40px] max-h-32 bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})}),e.jsx(o,{onClick:te,disabled:!w.trim()&&N.length===0,size:"sm",className:`px-4 py-2 rounded-xl transition-all transform hover:scale-105 ${w.trim()||N.length>0?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-slate-700 text-gray-400 cursor-not-allowed"}`,children:e.jsx(Je,{className:"h-4 w-4"})})]})})}),e.jsx("input",{ref:Z,type:"file",multiple:!0,onChange:s,className:"hidden",accept:".pdf,.doc,.docx,.txt,.zip,.rar"}),e.jsx("input",{ref:$,type:"file",multiple:!0,onChange:s,className:"hidden",accept:"image/*"})]})]})},nt=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fadeIn {
    animation: fadeIn 0.6s ease-out forwards;
  }
  
  @keyframes slideIn {
    from { transform: translateX(-100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  .animate-slideIn {
    animation: slideIn 0.4s ease-out forwards;
  }

  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  .animate-slideInRight {
    animation: slideInRight 0.5s ease-out forwards;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  .animate-pulse-slow {
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }

  @keyframes bounce-gentle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .animate-bounce-gentle {
    animation: bounce-gentle 2s ease-in-out infinite;
  }

  .glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .dark .glass-effect {
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .gradient-border {
    background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .hover-lift {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .dark .hover-lift:hover {
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
  }
`,Ct=()=>{const{currentConversation:b,setCurrentConversation:v,conversations:d,deleteConversation:M}=me(),[T,Y]=r.useState(!1),[y,S]=r.useState(new Set),[z,i]=r.useState(!1),[w,g]=r.useState([]),[N,D]=r.useState(""),L=r.useCallback((l,h="info")=>{const k=Date.now().toString(),V={message:l,type:h,id:k};g(C=>[...C,V]),setTimeout(()=>{g(C=>C.filter(q=>q.id!==k))},4e3)},[]),F=r.useCallback(l=>{g(h=>h.filter(k=>k.id!==l))},[]),j=r.useCallback(l=>{v(l)},[v]),x=r.useCallback(()=>{v(null)},[v]),I=r.useCallback(()=>{Y(!T),S(new Set)},[T]),R=r.useCallback(l=>{const h=new Set(y);h.has(l)?h.delete(l):h.add(l),S(h)},[y]),A=r.useCallback(()=>{y.size===d.length?S(new Set):S(new Set(d.map(l=>l.id)))},[y.size,d]),E=async()=>{if(y.size===0){L("Aucune conversation sélectionnée","error");return}i(!0);try{const l=Array.from(y).map(k=>M(k));await Promise.all(l);const h=y.size;S(new Set),Y(!1),L(`${h} conversation(s) supprimée(s) avec succès !`,"success")}catch(l){console.error("Erreur lors de la suppression des conversations:",l),L("Erreur lors de la suppression des conversations","error")}finally{i(!1)}},P=()=>w.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:w.map(l=>e.jsx("div",{className:"animate-fadeIn transform transition-all duration-300 hover:scale-105",children:e.jsxs("div",{className:`px-6 py-4 rounded-xl shadow-2xl flex items-center space-x-3 min-w-80 ${l.type==="success"?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white":l.type==="error"?"bg-gradient-to-r from-red-500 to-pink-500 text-white":"bg-gradient-to-r from-blue-500 to-indigo-500 text-white"}`,children:[e.jsx("div",{className:"w-6 h-6 flex-shrink-0",children:l.type==="success"?e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"animate-bounce-gentle",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):l.type==="error"?e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"animate-pulse",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("span",{className:"font-medium flex-1",children:l.message}),e.jsx("button",{onClick:()=>F(l.id),className:"w-5 h-5 hover:bg-white/20 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},l.id))});return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:nt}),e.jsx("style",{children:"html, body { overflow: hidden !important; height: 100% !important; }"}),e.jsx(P,{}),e.jsxs("div",{className:"fixed top-0 left-0 h-screen w-screen flex bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-slate-800 dark:to-slate-900 overflow-hidden",children:[e.jsxs("div",{className:"w-full md:w-80 lg:w-96 bg-white dark:bg-slate-900 border-r border-gray-200 dark:border-slate-700 shadow-2xl h-full overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"h-16 bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center animate-pulse-slow",children:e.jsx(pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Messages"}),e.jsxs("p",{className:"text-blue-100 text-xs",children:[d.length," conversations"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher...",value:N,onChange:l=>D(l.target.value),className:"pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-100 text-sm focus:outline-none focus:ring-2 focus:ring-white/30 w-40"})]})})]}),e.jsx("div",{className:"flex-1 transition-all duration-500 ease-in-out overflow-hidden",children:e.jsx(at,{onConversationSelect:j,isMultiSelectMode:T,selectedConversations:y,onSelectConversation:R,onToggleMultiSelect:I,onSelectAll:A,onDeleteSelected:E,isDeletingMultiple:z})})]}),e.jsx("div",{className:"flex-1 hidden md:block bg-white dark:bg-slate-900 h-full overflow-hidden",children:b?e.jsx(Me,{conversation:b,onBack:x}):e.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-900 overflow-hidden",children:e.jsxs("div",{className:"text-center space-y-8 max-w-md mx-auto px-6 animate-fadeIn",children:[e.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center animate-pulse-slow shadow-2xl",children:e.jsx(pe,{className:"w-16 h-16 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Bienvenue dans la messagerie"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg leading-relaxed",children:"Sélectionnez une conversation pour commencer à discuter"})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 bg-white dark:bg-slate-900 md:hidden animate-slideInRight h-screen w-screen overflow-hidden",children:e.jsx(Me,{conversation:b,onBack:x})})]})]})};export{Ct as default};
